<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AL-ARAFA Learning Resource Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom Colors & Theme */
        :root {
            --color-dark-blue: #0A192F; /* Deep Navy */
            --color-dark-green: #004D40; /* Deep Forest Green */
            --color-light-blue-accent: #4A90E2; /* Bright Blue for accents */
            --color-light-green-accent: #66BB6A; /* Bright Green for accents */
            --color-text-light: #E0E0E0; /* Light Gray for text */
            --color-text-muted: #A0A0A0; /* Muted Gray for secondary text */
            --color-bg-card: #1A2B40; /* Slightly lighter dark blue for cards */
            --color-border-dark: #2A3B50; /* Darker border */
        }

        body {
            background-color: var(--color-dark-blue);
            color: var(--color-text-light);
            font-family: 'Inter', sans-serif; /* Modern sans-serif font */
        }

        /* Gradient Text for Titles */
        .gradient-text-dark {
            background: linear-gradient(45deg, var(--color-light-blue-accent), var(--color-light-green-accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Card Hover Effect */
        .card-hover-effect {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover-effect:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        /* Scrollbar Styling for Modals */
        .modal-content-custom {
            max-height: 90vh;
            overflow-y: auto;
            scrollbar-width: thin; /* Firefox */
            scrollbar-color: var(--color-light-blue-accent) var(--color-bg-card); /* Firefox */
        }
        .modal-content-custom::-webkit-scrollbar {
            width: 8px;
        }
        .modal-content-custom::-webkit-scrollbar-track {
            background: var(--color-bg-card);
            border-radius: 10px;
        }
        .modal-content-custom::-webkit-scrollbar-thumb {
            background-color: var(--color-light-blue-accent);
            border-radius: 10px;
            border: 2px solid var(--color-bg-card);
        }

        /* Smooth Scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Custom Button Styles */
        .btn-primary {
            background: linear-gradient(90deg, var(--color-light-blue-accent), var(--color-light-green-accent));
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        .btn-primary:hover {
            opacity: 0.9;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        .btn-secondary {
            background-color: var(--color-bg-card);
            color: var(--color-light-blue-accent);
            border: 1px solid var(--color-light-blue-accent);
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: var(--color-light-blue-accent);
            color: var(--color-dark-blue);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        /* Input Field Styling */
        .input-field {
            background-color: var(--color-bg-card);
            border: 1px solid var(--color-border-dark);
            color: var(--color-text-light);
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            width: 100%;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .input-field:focus {
            border-color: var(--color-light-blue-accent);
            outline: none;
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.3);
        }
        .input-field::placeholder {
            color: var(--color-text-muted);
        }

        /* Specific styling for the hero section background pattern */
        .hero-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23004D40' fill-opacity='0.1' fill-rule='evenodd'%3E%3Cpath d='M0 40h20v20H0zm0-20h20v20H0zM20 0h20v20H20zm0 40h20v20H20zM40 20h20v20H40zm0-20h20v20H40z'/%3E%3C/g%3E%3C/svg%3E");
            background-size: 60px 60px;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="bg-gray-900 bg-opacity-80 backdrop-blur-md sticky top-0 z-50 shadow-lg border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <i class="fas fa-brain text-3xl gradient-text-dark"></i>
                <h1 class="text-3xl font-extrabold gradient-text-dark">AL-ARAFA LRC</h1>
            </div>
            
            <nav class="flex items-center space-x-8">
                <a href="#home" class="text-lg font-medium text-gray-300 hover:text-white transition duration-300">Home</a>
                <a href="#about" class="text-lg font-medium text-gray-300 hover:text-white transition duration-300">About</a>
                <a href="#facilities" class="text-lg font-medium text-gray-300 hover:text-white transition duration-300">Facilities</a>
                <a href="#programs" class="text-lg font-medium text-gray-300 hover:text-white transition duration-300">Programs</a>
                <a href="#services" class="text-lg font-medium text-gray-300 hover:text-white transition duration-300">Services</a>
                <a href="#contact" class="text-lg font-medium text-gray-300 hover:text-white transition duration-300">Contact</a>
                
                <div id="authArea" class="flex items-center space-x-3">
                    <button id="loginButton" onclick="openLoginModal()" class="btn-primary text-sm">
                        <i class="fas fa-sign-in-alt mr-2"></i>Login
                    </button>
                    <div id="welcomeArea" class="hidden flex items-center space-x-2">
                        <button id="welcomeButton" class="bg-gray-700 text-gray-200 px-4 py-2 rounded-md text-sm font-semibold cursor-default">
                            <i class="fas fa-user-circle mr-2"></i><span id="welcomeMessage"></span>
                        </button>
                        <button id="logoutButton" onclick="logout()" class="bg-red-700 hover:bg-red-800 text-white px-3 py-1 rounded-md text-xs font-semibold shadow-md">Logout</button>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="relative h-screen flex items-center justify-center text-center overflow-hidden hero-pattern">
        <div class="absolute inset-0 bg-gradient-to-br from-dark-blue to-dark-green opacity-70"></div>
        <div class="relative z-10 max-w-5xl mx-auto px-6">
            <h1 class="text-6xl font-extrabold leading-tight mb-6 drop-shadow-lg gradient-text-dark">
                Empowering Minds, Fostering Innovation
            </h1>
            <p class="text-xl text-gray-300 mb-10 max-w-3xl mx-auto drop-shadow-md">
                Your gateway to comprehensive learning resources, cutting-edge facilities, and collaborative opportunities at the university level.
            </p>
            <a href="#about" class="btn-primary text-lg">
                Explore Our Vision <i class="fas fa-arrow-right ml-3"></i>
            </a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-24 px-6 bg-gray-900 border-t border-gray-800">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-5xl font-bold text-center mb-16 gradient-text-dark">About AL-ARAFA LRC</h2>
            <div class="grid md:grid-cols-2 gap-16 items-center">
                <div>
                    <p class="text-lg text-gray-300 leading-relaxed mb-6">
                        AL-ARAFA Learning Resource Center (LRC) is a university-level PSB initiated and managed by the ARAFA Team, a group of students passionate about providing ideal learning resources. Our name, "AL-ARAFA," is an acronym of our founders' names: Alif, Rangga, Ali, Fachriza, and Akmal, united by the challenge of finding a comprehensive learning center.
                    </p>
                    <p class="text-lg text-gray-300 leading-relaxed">
                        As an LRC, AL-ARAFA is designed to be a modern, inclusive, and technologically relevant learning hub. We offer access to diverse digital and non-digital resources tailored to academic needs, including instructional system development, material production, media lending, administrative management, and training in educational technology.
                    </p>
                </div>
                <div class="grid grid-cols-1 gap-8">
                    <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark card-hover-effect">
                        <div class="text-color-light-blue-accent text-4xl mb-4"><i class="fas fa-eye"></i></div>
                        <h3 class="text-2xl font-bold text-white mb-3">Our Vision</h3>
                        <p class="text-gray-300 italic">"To be the leading university learning resource center within 5 years, consistently supporting and enhancing a culture of independent, innovative, and collaborative learning among students through quality and integrated services and facilities."</p>
                    </div>
                    <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark card-hover-effect">
                        <div class="text-color-light-green-accent text-4xl mb-4"><i class="fas fa-bullseye"></i></div>
                        <h3 class="text-2xl font-bold text-white mb-3">Our Mission</h3>
                        <ul class="text-gray-300 space-y-2">
                            <li class="flex items-start"><i class="fas fa-check-circle text-color-light-green-accent mt-1 mr-3"></i><span>Provide easy access to relevant digital and non-digital learning resources.</span></li>
                            <li class="flex items-start"><i class="fas fa-check-circle text-color-light-green-accent mt-1 mr-3"></i><span>Offer integrated instructional system development, material production, media services, administration, and training.</span></li>
                            <li class="flex items-start"><i class="fas fa-check-circle text-color-light-green-accent mt-1 mr-3"></i><span>Foster collaboration and innovation in learning through structured facilities and programs.</span></li>
                            <li class="flex items-start"><i class="fas fa-check-circle text-color-light-green-accent mt-1 mr-3"></i><span>Support student competency development for independent and adaptive learning.</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Facilities Section -->
    <section id="facilities" class="py-24 px-6 bg-color-dark-blue border-t border-gray-800">
        <div class="max-w-7xl mx-auto text-center">
            <h2 class="text-5xl font-bold mb-16 gradient-text-dark">Our State-of-the-Art Facilities</h2>
            <p class="text-lg text-gray-300 max-w-3xl mx-auto mb-16">
                AL-ARAFA LRC provides modern and comfortable facilities to support your learning and creative endeavors. Explore our diverse spaces:
            </p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-10">
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-blue-accent text-4xl mb-4"><i class="fas fa-chalkboard-teacher"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Instructional System Development Rooms</h3>
                    <p class="text-gray-300 text-sm">Dedicated spaces for curriculum, media, and evaluation instrument development, supported by expert consultants.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-green-accent text-4xl mb-4"><i class="fas fa-video"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Video Production Studio</h3>
                    <p class="text-gray-300 text-sm">A mini studio equipped with cameras, microphones, lighting, green screens, and editing software for educational media production.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-blue-accent text-4xl mb-4"><i class="fas fa-microphone-alt"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Audio Production Studio</h3>
                    <p class="text-gray-300 text-sm">Soundproof room with high-quality microphones, headphones, and mixing equipment for educational podcast production.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-green-accent text-4xl mb-4"><i class="fas fa-book-open"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Library & Reading Rooms</h3>
                    <p class="text-gray-300 text-sm">Extensive collection of books, journals, and digital resources, with comfortable reading and discussion areas.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-blue-accent text-4xl mb-4"><i class="fas fa-flask"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Science Laboratory</h3>
                    <p class="text-gray-300 text-sm">Equipped for practical experiments and scientific research, supporting hands-on learning.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-green-accent text-4xl mb-4"><i class="fas fa-bullhorn"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Auditorium & Multipurpose Hall</h3>
                    <p class="text-gray-300 text-sm">Large capacity venues for seminars, workshops, and community events, with modern sound and projection systems.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-blue-accent text-4xl mb-4"><i class="fas fa-vr-cardboard"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">VR/AR Simulation Rooms</h3>
                    <p class="text-gray-300 text-sm">Cutting-edge facilities for immersive learning experiences using Virtual and Augmented Reality technologies.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-green-accent text-4xl mb-4"><i class="fas fa-laptop-code"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Computer Labs & Smart Classrooms</h3>
                    <p class="text-gray-300 text-sm">Modern computer labs with design software and interactive smart classrooms for dynamic learning.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-blue-accent text-4xl mb-4"><i class="fas fa-palette"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Gallery & Exhibition Space</h3>
                    <p class="text-gray-300 text-sm">Area to showcase student works, creative projects, and educational exhibitions with specialized lighting and display panels.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Programs Section -->
    <section id="programs" class="py-24 px-6 bg-gray-900 border-t border-gray-800">
        <div class="max-w-7xl mx-auto text-center">
            <h2 class="text-5xl font-bold mb-16 gradient-text-dark">Our Signature Programs</h2>
            <p class="text-lg text-gray-300 max-w-3xl mx-auto mb-16">
                AL-ARAFA LRC offers a variety of innovative programs to support lifelong learning and potential development.
            </p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-10">
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-green-accent text-4xl mb-4"><i class="fas fa-graduation-cap"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Bootcamp Guru Masa Kini</h3>
                    <p class="text-gray-300 text-sm">Intensive training for lecturers and students on curriculum development, digital media creation, and evaluation using SMART Classroom and VR/AR technologies.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-blue-accent text-4xl mb-4"><i class="fas fa-trophy"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Lomba Karya Cipta LRC</h3>
                    <p class="text-gray-300 text-sm">Annual competition for LRC users to create educational media (video, podcast, digital modules) utilizing LRC production facilities.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-green-accent text-4xl mb-4"><i class="fas fa-lightbulb"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Pekan Karya & Inspirasi</h3>
                    <p class="text-gray-300 text-sm">Annual exhibition showcasing user creations, multimedia products, and scientific works, fostering an inspiring and educational atmosphere.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-blue-accent text-4xl mb-4"><i class="fas fa-door-open"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Hari Kenal LRC</h3>
                    <p class="text-gray-300 text-sm">Annual open house for the public, students, and partners to explore LRC facilities, digital services, and programs through mini-workshops.</p>
                </div>
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark text-left card-hover-effect">
                    <div class="text-color-light-green-accent text-4xl mb-4"><i class="fas fa-globe"></i></div>
                    <h3 class="text-2xl font-bold text-white mb-2">Hari Bahasa & Budaya</h3>
                    <p class="text-gray-300 text-sm">Thematic program where LRC areas transform into different countries, promoting immersive language and cultural learning.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="py-24 px-6 bg-color-dark-blue border-t border-gray-800">
        <div class="max-w-7xl mx-auto text-center">
            <h2 class="text-5xl font-bold mb-16 gradient-text-dark">Our Services</h2>
            <p class="text-lg text-gray-300 max-w-3xl mx-auto mb-16">
                AL-ARAFA LRC provides various services to support your learning and self-development needs. Explore the options below:
            </p>
            
            <div class="grid md:grid-cols-3 gap-10">
                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark transform transition duration-300 hover:scale-105 hover:shadow-2xl">
                    <div class="text-color-light-blue-accent text-5xl mb-6">
                        <i class="fas fa-building"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-4">Room Reservation</h3>
                    <p class="text-gray-300 mb-6">Book our video production, podcast studios, or auditorium for your events and creative projects.</p>
                    <button onclick="handleServiceClick('pinjamRuangan')" class="btn-secondary text-sm">
                        Request Reservation <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>

                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark transform transition duration-300 hover:scale-105 hover:shadow-2xl">
                    <div class="text-color-light-green-accent text-5xl mb-6">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-4">Book Lending</h3>
                    <p class="text-gray-300 mb-6">Access our extensive collection of books, journals, and digital resources. Expand your knowledge with diverse topics.</p>
                    <button onclick="handleServiceClick('pinjamBuku')" class="btn-secondary text-sm">
                        View Collection <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>

                <div class="bg-color-bg-card p-8 rounded-xl shadow-xl border border-color-border-dark transform transition duration-300 hover:scale-105 hover:shadow-2xl">
                    <div class="text-color-light-blue-accent text-5xl mb-6">
                        <i class="fas fa-laptop-code"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-4">Training Enrollment</h3>
                    <p class="text-gray-300 mb-6">Join various digital and life skills training programs to enhance your competencies and opportunities.</p>
                    <button onclick="handleServiceClick('daftarPelatihan')" class="btn-secondary text-sm">
                        Training Schedule <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
        <div class="bg-color-bg-card p-10 rounded-2xl shadow-2xl w-full max-w-md relative modal-content-custom border border-color-border-dark">
            <button onclick="closeLoginModal()" class="absolute top-5 right-5 text-gray-400 hover:text-white transition">
                <i class="fas fa-times text-xl"></i>
            </button>
            <h2 class="text-4xl font-bold text-center gradient-text-dark mb-8">Login to AL-ARAFA</h2>
            <form id="loginForm" class="space-y-6">
                <div>
                    <label for="memberIdOrUsername" class="block text-sm font-medium text-gray-300 mb-2">Member ID / Username</label>
                    <div class="relative">
                        <i class="fas fa-user absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                        <input type="text" id="memberIdOrUsername" class="input-field pl-12" placeholder="Enter your ID or Username" required />
                    </div>
                </div>
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-300 mb-2">Password</label>
                    <div class="relative">
                        <i class="fas fa-lock absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                        <input type="password" id="password" class="input-field pl-12" placeholder="••••••••" required />
                    </div>
                </div>
                <button type="submit" class="btn-primary w-full py-3 text-lg">
                    <i class="fas fa-sign-in-alt mr-2"></i>Sign In
                </button>
                <div class="text-center mt-4">
                    <a href="#" class="text-sm text-color-light-blue-accent hover:underline">Forgot password?</a>
                </div>
                <p id="errorMessage" class="text-red-500 text-sm text-center hidden mt-2">
                    <i class="fas fa-exclamation-circle mr-1"></i> Invalid Member ID, Username, or Password.
                </p>
            </form>
        </div>
    </div>

    <!-- Service Modal -->
    <div id="serviceModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
        <div class="bg-color-bg-card p-10 rounded-2xl shadow-2xl w-full max-w-3xl relative modal-content-custom border border-color-border-dark">
            <button onclick="closeServiceModal()" class="absolute top-5 right-5 text-gray-400 hover:text-white transition">
                <i class="fas fa-times text-xl"></i>
            </button>
            <h2 id="serviceModalTitle" class="text-4xl font-bold text-center gradient-text-dark mb-8"></h2>
            <div id="serviceModalContent" class="text-gray-300">
                <!-- Content will be dynamically loaded here -->
            </div>
            <div id="serviceModalForm" class="mt-8">
                <h3 class="text-2xl font-bold text-white mb-4">Application Form</h3>
                <form id="serviceSubmissionForm" class="space-y-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Full Name</label>
                        <input type="text" id="formName" class="input-field" required readonly />
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Member ID</label>
                        <input type="text" id="formMemberId" class="input-field" required readonly />
                    </div>
                    <div id="additionalServiceFormFields">
                        <!-- Additional fields based on service type -->
                    </div>
                    <button type="submit" class="btn-primary w-full py-3 text-lg">Submit Request</button>
                </form>
            </div>
            <div id="confirmationMessage" class="hidden mt-8 p-6 bg-green-900 bg-opacity-50 border border-green-700 text-green-200 rounded-lg text-center">
                <i class="fas fa-check-circle text-4xl mb-4"></i>
                <p class="font-semibold text-xl mb-2">Your request has been submitted successfully!</p>
                <p id="confirmationDetail" class="mt-2 text-base text-green-300"></p>
                <button onclick="closeServiceModal()" class="btn-secondary mt-6 px-6 py-2">Close</button>
            </div>
        </div>
    </div>

    <!-- Not Logged In Modal -->
    <div id="notLoggedInModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
        <div class="bg-color-bg-card p-10 rounded-2xl shadow-2xl w-full max-w-sm relative text-center border border-color-border-dark">
            <button onclick="closeNotLoggedInModal()" class="absolute top-5 right-5 text-gray-400 hover:text-white transition">
                <i class="fas fa-times text-xl"></i>
            </button>
            <i class="fas fa-exclamation-triangle text-5xl text-yellow-500 mb-6"></i>
            <h2 class="text-3xl font-bold text-white mb-4">Access Restricted</h2>
            <p class="text-gray-300 mb-6">You need to be logged in to access this feature.</p>
            <button onclick="goToLoginFromNotification()" class="btn-primary px-6 py-2">
                Login Now
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer id="contact" class="bg-gray-950 text-gray-300 py-16 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12">
            <div>
                <h3 class="text-3xl font-extrabold gradient-text-dark mb-6">AL-ARAFA LRC</h3>
                <p class="text-gray-400 text-sm leading-relaxed">
                    Your comprehensive learning resource center, fostering innovation and collaboration for lifelong learning.
                </p>
            </div>
            <div>
                <h4 class="text-xl font-semibold text-white mb-6">Quick Links</h4>
                <ul class="space-y-3">
                    <li><a href="#home" class="text-gray-400 hover:text-white transition">Home</a></li>
                    <li><a href="#about" class="text-gray-400 hover:text-white transition">About Us</a></li>
                    <li><a href="#facilities" class="text-gray-400 hover:text-white transition">Facilities</a></li>
                    <li><a href="#programs" class="text-gray-400 hover:text-white transition">Programs</a></li>
                    <li><a href="#services" class="text-gray-400 hover:text-white transition">Services</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-xl font-semibold text-white mb-6">Contact Us</h4>
                <ul class="space-y-4 text-gray-400">
                    <li class="flex items-start">
                        <i class="fas fa-map-marker-alt mt-1 mr-4 text-color-light-blue-accent"></i>
                        <span>Jl. Inovasi No. 456, Kampus Utama, Kota Pendidikan</span>
                    </li>
                    <li class="flex items-center">
                        <i class="fas fa-phone-alt mr-4 text-color-light-blue-accent"></i>
                        <span>+62 812-9876-5432</span>
                    </li>
                    <li class="flex items-center">
                        <i class="fas fa-envelope mr-4 text-color-light-blue-accent"></i>
                        <span>info@alarafalrc.id</span>
                    </li>
                </ul>
            </div>
            <div>
                <h4 class="text-xl font-semibold text-white mb-6">Follow Us</h4>
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-400 hover:text-white text-2xl transition"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white text-2xl transition"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white text-2xl transition"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white text-2xl transition"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
        <div class="border-t border-gray-800 mt-12 pt-8 text-center text-gray-500 text-sm">
            <p>&copy; 2024 AL-ARAFA Learning Resource Center. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // --- Data Dummy ---
        const dummyAccounts = [
            { memberId: "030410", username: "Fachriza", password: "password123" },
            { memberId: "030411", username: "Akmal", password: "password123" },
            { memberId: "030412", username: "Rangga", password: "password123" },
            { memberId: "030500", username: "Alif", password: "password123" },
            { memberId: "030350", username: "Ali", password: "password123" },
            { memberId: "030351", username: "Khaerudin", password: "password123" },
            // Admin account for simulation
            { memberId: "admin", username: "Admin LRC", password: "admin123" } 
        ];

        // Dummy data for books with availability (Max 20 books)
        const dummyBooks = [
            { id: 'b1', title: "Don Quixote", author: "Miguel de Cervantes", status: "Available", stock: 2 },
            { id: 'b2', title: "Thinking Fast and Slow", author: "Daniel Kahneman", status: "Available", stock: 3 },
            { id: 'b3', title: "To Kill a Mockingbird", author: "Harper Lee", status: "Borrowed", stock: 0 },
            { id: 'b4', title: "Atomic Habits", author: "James Clear", status: "Available", stock: 1 },
            { id: 'b5', title: "Harry Potter and the Sorcerer's Stone", author: "J.K. Rowling", status: "Available", stock: 2 },
            { id: 'b6', title: "Negeri 5 Menara", author: "Ahmad Fuadi", status: "Available", stock: 1 },
            { id: 'b7', title: "Laskar Pelangi", author: "Andrea Hirata", status: "Borrowed", stock: 0 },
            { id: 'b8', title: "Laut Bercerita", author: "Leila S. Chudori", status: "Available", stock: 3 },
            { id: 'b9', title: "Max Havelaar", author: "Multatuli", status: "Available", stock: 1 },
            { id: 'b10', title: "The Secret History of the World", author: "Jonathan Black", status: "Available", stock: 2 },
            { id: 'b11', title: "Sapiens: A Brief History of Humankind", author: "Yuval Noah Harari", status: "Available", stock: 2 },
            { id: 'b12', title: "Filosofi Teras", author: "Henry Manampiring", status: "Borrowed", stock: 0 },
            { id: 'b13', title: "Bumi Manusia", author: "Pramoedya Ananta Toer", status: "Available", stock: 1 },
            { id: 'b14', title: "Cantik Itu Luka", author: "Eka Kurniawan", status: "Available", stock: 1 },
            { id: 'b15', title: "Rich Dad Poor Dad", author: "Robert T. Kiyosaki", status: "Available", stock: 2 },
        ];

        // Dummy data for rooms AVAILABLE FOR BORROWING (NO descriptions here as per user request)
        const dummyRooms = [
            { id: 'r1', name: "Video Production Studio", price: "Free", availability: "Available", isPaid: false },
            { id: 'r2', name: "Audio Production Studio", price: "Free", availability: "Available", isPaid: false },
            { id: 'r3', name: "Auditorium", price: "Rp 500.000 / Hour", availability: "Available (Reservation Required)", isPaid: true, basePricePerHour: 500000 }
        ];

        // Dummy data for trainings with quota information (Max 20 total quota)
        const dummyTrainings = [
            { id: 't1', name: "Entrepreneurship Training", target: "general public", schedule: "Every Saturday, 08:00 AM WIB", totalQuota: 15, filledQuota: 12 },
            { id: 't2', name: "Digital & Information Literacy Training", target: "students", schedule: "Every Tuesday, 04:00 PM WIB", totalQuota: 20, filledQuota: 18 },
            { id: 't3', name: "Software Usage Training", target: "students", schedule: "Every Wednesday, 04:00 PM WIB", totalQuota: 18, filledQuota: 18 }, // Full
            { id: 't4', name: "Instructional Design Training", target: "lecturers and teachers", schedule: "Every Sunday, 08:00 AM WIB", totalQuota: 10, filledQuota: 5 }
        ];

        let loggedInUser = null; // Stores logged-in user data

        // --- Login Modal Functions ---
        function openLoginModal() {
            document.getElementById("loginModal").classList.remove("hidden");
            document.body.style.overflow = "hidden"; // Prevent body scroll
        }
        
        function closeLoginModal() {
            document.getElementById("loginModal").classList.add("hidden");
            document.body.style.overflow = "auto"; // Re-enable body scroll
            document.getElementById('errorMessage').classList.add('hidden'); // Hide error message
            document.getElementById('loginForm').reset(); // Reset login form
        }
        
        // Update UI after login/logout
        function updateAuthUI() {
            const loginButton = document.getElementById('loginButton');
            const welcomeArea = document.getElementById('welcomeArea');
            const welcomeMessageSpan = document.getElementById('welcomeMessage');
            const logoutButton = document.getElementById('logoutButton');

            if (loggedInUser) {
                loginButton.classList.add('hidden');
                welcomeArea.classList.remove('hidden');
                logoutButton.classList.remove('hidden');
                welcomeMessageSpan.textContent = loggedInUser.username; // Display username
            } else {
                loginButton.classList.remove('hidden');
                welcomeArea.classList.add('hidden');
                logoutButton.classList.add('hidden');
                welcomeMessageSpan.textContent = '';
            }
        }

        // Logout function
        function logout() {
            loggedInUser = null;
            updateAuthUI();
            closeServiceModal(); // Ensure service modal is closed after logout
        }

        // Handle login form submission
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const inputIdentifier = document.getElementById('memberIdOrUsername').value.trim();
            const password = document.getElementById('password').value;
            let foundAccount = null;

            for (let i = 0; i < dummyAccounts.length; i++) {
                const account = dummyAccounts[i];
                if ((account.memberId === inputIdentifier || account.username.toLowerCase() === inputIdentifier.toLowerCase()) && account.password === password) {
                    foundAccount = account;
                    break;
                }
            }

            if (foundAccount) {
                loggedInUser = foundAccount; // Store logged-in user data
                closeLoginModal(); // Close login modal
                updateAuthUI(); // Update navbar display
            } else {
                document.getElementById('errorMessage').classList.remove('hidden');
            }
        });

        // --- Service Modal Functions ---
        // New function to handle service clicks
        function handleServiceClick(serviceType, id = null) {
            if (!loggedInUser) {
                openNotLoggedInModal(); // Show not-logged-in modal
            } else {
                openServiceModal(serviceType, id); // Open service modal if logged in
            }
        }

        function openServiceModal(serviceType, selectedItemId = null) {
            const modalTitle = document.getElementById('serviceModalTitle');
            const modalContent = document.getElementById('serviceModalContent');
            const serviceModalForm = document.getElementById('serviceModalForm');
            const confirmationMessage = document.getElementById('confirmationMessage');
            const additionalFields = document.getElementById('additionalServiceFormFields');

            // Reset modal state
            modalContent.innerHTML = '';
            additionalFields.innerHTML = '';
            serviceModalForm.classList.remove('hidden'); // Show form by default
            confirmationMessage.classList.add('hidden'); // Hide confirmation message

            // Pre-fill user info if logged in
            if (loggedInUser) {
                document.getElementById('formName').value = loggedInUser.username;
                document.getElementById('formMemberId').value = loggedInUser.memberId;
            } else {
                document.getElementById('formName').value = '';
                document.getElementById('formMemberId').value = '';
            }

            if (serviceType === 'pinjamRuangan') {
                modalTitle.textContent = 'Room Reservation';
                let contentHtml = '<p class="mb-4 text-gray-300">Here are the rooms available for reservation:</p><div class="grid grid-cols-1 gap-4">';
                
                dummyRooms.forEach(room => {
                    contentHtml += `
                        <div class="bg-gray-800 p-4 rounded-lg border border-gray-700">
                            <h3 class="text-xl font-bold text-white mb-2">${room.name} <span class="text-color-light-blue-accent font-normal text-base">(${room.price})</span></h3>
                            <p class="text-gray-400 text-sm">Status: <span class="font-semibold ${room.availability.includes('Available') ? 'text-color-light-green-accent' : 'text-red-500'}">${room.availability}</span></p>
                            <p class="text-gray-400 text-sm mt-1">Availability System: Please contact us for time slot availability and reservation.</p>
                        </div>
                    `;
                });
                contentHtml += '</div><p class="mt-6 text-gray-300 text-sm">To request a reservation, please fill out the form below.</p>';
                modalContent.innerHTML = contentHtml;

                additionalFields.innerHTML = `
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Select Room</label>
                        <select id="selectedRoom" class="input-field" required onchange="handleRoomSelection(this.value)">
                            <option value="">-- Select a Room --</option>
                            ${dummyRooms.map(room => `<option value="${room.id}" ${selectedItemId === room.id ? 'selected' : ''}>${room.name} (${room.price}) - ${room.availability}</option>`).join('')}
                        </select>
                    </div>
                    <div id="roomDateTimeWrapper">
                        <label class="block text-sm font-medium text-gray-300 mb-2">Date & Time of Reservation</label>
                        <input type="datetime-local" id="roomDateTime" class="input-field" required />
                    </div>
                    <div id="auditoriumPaymentFields" class="hidden">
                        <label class="block text-sm font-medium text-gray-300 mb-2">Duration (Hours)</label>
                        <input type="number" id="durationHours" min="1" value="1" class="input-field" oninput="calculateAuditoriumCost()" />
                        <p class="text-sm text-gray-400 mt-2">Estimated Cost: <span id="estimatedCost" class="font-semibold text-color-light-green-accent">Rp 0</span></p>
                    </div>
                `;
                // Trigger selection handler if an item was pre-selected
                if (selectedItemId) {
                    handleRoomSelection(selectedItemId);
                }

            } else if (serviceType === 'pinjamBuku') {
                modalTitle.textContent = 'Book Lending';
                let contentHtml = '<p class="mb-4 text-gray-300">Here is our book collection. You can borrow up to 3 books:</p><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">';
                
                dummyBooks.forEach(book => {
                    contentHtml += `
                        <div class="bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-700">
                            <h3 class="text-lg font-bold text-white">${book.title}</h3>
                            <p class="text-gray-400 text-sm">By: ${book.author}</p>
                            <p class="text-sm mt-2">Status: <span class="font-semibold ${book.status === 'Available' ? 'text-color-light-green-accent' : 'text-red-500'}">${book.status} ${book.status === 'Available' ? `(${book.stock} available)` : ''}</span></p>
                        </div>
                    `;
                });
                contentHtml += '</div><p class="mt-6 text-gray-300 text-sm">Select the books you wish to borrow (maximum 3 books) below:</p>';
                modalContent.innerHTML = contentHtml;

                additionalFields.innerHTML = `
                    <div id="bookSelectionCheckboxes" class="space-y-2">
                        ${dummyBooks.map(book => `
                            <label class="inline-flex items-center">
                                <input type="checkbox" name="selectedBooks" value="${book.id}" class="form-checkbox h-5 w-5 text-color-light-blue-accent bg-gray-700 border-gray-600 rounded" ${book.status !== 'Available' ? 'disabled' : ''}>
                                <span class="ml-3 text-gray-300 ${book.status !== 'Available' ? 'line-through text-gray-500' : ''}">${book.title} - ${book.author} (${book.status})</span>
                            </label>
                        `).join('')}
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Return Date (Max 7 days from now)</label>
                        <input type="date" id="bookReturnDate" class="input-field" required />
                    </div>
                `;

            } else if (serviceType === 'daftarPelatihan') {
                modalTitle.textContent = 'Training Enrollment';
                let contentHtml = '<p class="mb-4 text-gray-300">Here are the training programs you can join. Click on a training box to enroll:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4">';
                
                dummyTrainings.forEach(training => {
                    const isFull = training.filledQuota >= training.totalQuota;
                    contentHtml += `
                        <div class="bg-gray-800 p-4 rounded-lg border border-gray-700 cursor-pointer hover:bg-gray-700 transition duration-300 ${isFull ? 'opacity-60 cursor-not-allowed' : ''}" 
                             onclick="if(!${isFull}){handleServiceClick('daftarPelatihan', '${training.id}')}">
                            <h3 class="text-xl font-bold text-white mb-1">${training.name}</h3>
                            <p class="text-gray-400 text-sm mt-1"><i class="fas fa-users mr-2 text-color-light-blue-accent"></i>Target Audience: ${training.target}</p>
                            <p class="text-gray-400 text-sm"><i class="fas fa-calendar-alt mr-2 text-color-light-blue-accent"></i>Schedule: ${training.schedule}</p>
                            <p class="text-sm mt-2">Quota: <span class="font-semibold ${isFull ? 'text-red-500' : 'text-color-light-green-accent'}">${training.filledQuota}/${training.totalQuota}</span> ${isFull ? '(FULL)' : ''}</p>
                        </div>
                    `;
                });
                contentHtml += '</div><p class="mt-6 text-gray-300 text-sm">To enroll, please fill out the form below.</p>';
                modalContent.innerHTML = contentHtml;

                // Pre-select training in form if an ID was passed
                const selectedTraining = dummyTrainings.find(t => t.id === selectedItemId);
                additionalFields.innerHTML = `
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Select Training</label>
                        <select id="selectedTraining" class="input-field" required>
                            <option value="">-- Select a Training --</option>
                            ${dummyTrainings.map(training => `
                                <option value="${training.id}" ${selectedTraining && selectedTraining.id === training.id ? 'selected' : ''} ${training.filledQuota >= training.totalQuota ? 'disabled' : ''}>
                                    ${training.name} (${training.schedule}) - Quota: ${training.filledQuota}/${training.totalQuota} ${training.filledQuota >= training.totalQuota ? '(FULL)' : ''}
                                </option>
                            `).join('')}
                        </select>
                    </div>
                `;
            }

            document.getElementById("serviceModal").classList.remove("hidden");
            document.body.style.overflow = "hidden";
            document.getElementById('serviceSubmissionForm').dataset.serviceType = serviceType;
        }

        // Handle room selection for auditorium payment simulation
        function handleRoomSelection(roomId) {
            const selectedRoom = dummyRooms.find(room => room.id === roomId);
            const auditoriumPaymentFields = document.getElementById('auditoriumPaymentFields');
            const roomDateTimeWrapper = document.getElementById('roomDateTimeWrapper');

            if (selectedRoom && selectedRoom.isPaid) {
                auditoriumPaymentFields.classList.remove('hidden');
                document.getElementById('durationHours').value = 1; // Reset duration
                calculateAuditoriumCost();
                // For paid rooms, make sure datetime is visible
                roomDateTimeWrapper.classList.remove('hidden');
            } else {
                auditoriumPaymentFields.classList.add('hidden');
                // For free rooms, make sure datetime is visible
                roomDateTimeWrapper.classList.remove('hidden');
            }
        }

        // Calculate auditorium cost
        function calculateAuditoriumCost() {
            const selectedRoomId = document.getElementById('selectedRoom').value;
            const selectedRoom = dummyRooms.find(room => room.id === selectedRoomId);
            const durationHours = parseInt(document.getElementById('durationHours').value) || 0;
            let estimatedCost = 0;

            if (selectedRoom && selectedRoom.isPaid) {
                estimatedCost = selectedRoom.basePricePerHour * durationHours;
            }
            document.getElementById('estimatedCost').textContent = `Rp ${estimatedCost.toLocaleString('id-ID')}`;
        }

        function closeServiceModal() {
            document.getElementById("serviceModal").classList.add("hidden");
            document.body.style.overflow = "auto";
            document.getElementById('serviceSubmissionForm').reset(); // Reset service form
            document.getElementById('confirmationMessage').classList.add('hidden'); // Hide confirmation message
            document.getElementById('serviceModalForm').classList.remove('hidden'); // Ensure form is visible if reopened
            document.getElementById('auditoriumPaymentFields').classList.add('hidden'); // Hide payment fields
        }

        // Close service modal when clicking outside the modal area
        document.getElementById('serviceModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeServiceModal();
            }
        });

        // Handle service form submission (more "real" simulation)
        document.getElementById('serviceSubmissionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const serviceType = this.dataset.serviceType;
            const name = document.getElementById('formName').value;
            const memberId = document.getElementById('formMemberId').value;
            let confirmationDetail = '';

            if (serviceType === 'pinjamRuangan') {
                const selectedRoomId = document.getElementById('selectedRoom').value;
                const selectedRoom = dummyRooms.find(room => room.id === selectedRoomId);
                const roomDateTime = document.getElementById('roomDateTime').value;
                let costInfo = '';

                if (selectedRoom && selectedRoom.isPaid) {
                    const durationHours = parseInt(document.getElementById('durationHours').value) || 0;
                    const estimatedCost = selectedRoom.basePricePerHour * durationHours;
                    costInfo = ` with an estimated cost of Rp ${estimatedCost.toLocaleString('id-ID')}`;
                }
                confirmationDetail = `Room reservation for **${selectedRoom ? selectedRoom.name : 'Unknown Room'}** by **${name} (Member ID: ${memberId})** on **${new Date(roomDateTime).toLocaleString('en-US')}**${costInfo} has been successfully submitted.`;
            } else if (serviceType === 'pinjamBuku') {
                const selectedBookCheckboxes = Array.from(document.querySelectorAll('input[name="selectedBooks"]:checked'));
                if (selectedBookCheckboxes.length === 0) {
                    alert('Please select at least one book.');
                    return;
                }
                if (selectedBookCheckboxes.length > 3) {
                    alert('You can only borrow a maximum of 3 books.');
                    return;
                }
                const selectedBookIds = selectedBookCheckboxes.map(cb => cb.value);
                const selectedBooksTitles = selectedBookIds.map(id => dummyBooks.find(book => book.id === id).title).join(', ');
                const bookReturnDate = document.getElementById('bookReturnDate').value;

                // Simulate stock reduction
                selectedBookIds.forEach(id => {
                    const book = dummyBooks.find(b => b.id === id);
                    if (book && book.stock > 0) {
                        book.stock--;
                        if (book.stock === 0) {
                            book.status = 'Borrowed';
                        }
                    }
                });


                confirmationDetail = `Book lending request for **"${selectedBooksTitles}"** by **${name} (Member ID: ${memberId})** has been successfully submitted. Please return before **${new Date(bookReturnDate).toLocaleDateString('en-US')}**.`;
            } else if (serviceType === 'daftarPelatihan') {
                const selectedTrainingId = document.getElementById('selectedTraining').value;
                const selectedTraining = dummyTrainings.find(t => t.id === selectedTrainingId);
                
                // Simulate quota fill
                if (selectedTraining && selectedTraining.filledQuota < selectedTraining.totalQuota) {
                    selectedTraining.filledQuota++;
                } else if (selectedTraining && selectedTraining.filledQuota >= selectedTraining.totalQuota) {
                    alert('Sorry, this training is full.');
                    return;
                }

                confirmationDetail = `Training enrollment for **${selectedTraining ? selectedTraining.name : 'Unknown Training'}** by **${name} (Member ID: ${memberId})** is successful. Further details will be sent to your email.`;
            }

            // Hide form and show confirmation message
            document.getElementById('serviceModalForm').classList.add('hidden');
            document.getElementById('confirmationDetail').innerHTML = confirmationDetail;
            document.getElementById('confirmationMessage').classList.remove('hidden');
        });
        
        // --- Not Logged In Modal ---
        function openNotLoggedInModal() {
            document.getElementById("notLoggedInModal").classList.remove("hidden");
            document.body.style.overflow = "hidden";
        }

        function closeNotLoggedInModal() {
            document.getElementById("notLoggedInModal").classList.add("hidden");
            document.body.style.overflow = "auto";
        }

        function goToLoginFromNotification() {
            closeNotLoggedInModal();
            openLoginModal();
        }

        // Initialize UI on page load
        document.addEventListener('DOMContentLoaded', updateAuthUI);
    </script>
</body>
</html>
